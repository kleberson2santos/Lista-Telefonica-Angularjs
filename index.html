<!DOCTYPE html>
<html lang="pt" ng-app="listaTelefonica">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <link rel="apple-touch-icon" sizes="180x180" href="images/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/icons/favicon-16x16.png">
    <link rel="manifest" href="images/icons/site.webmanifest">
    <link rel="mask-icon" href="images/icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <title>Lista Telefonica</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/app.css">
    </link>
    <link rel="stylesheet" type="text/css" href="css/ui.css">
    </link>
    <script src="lib/angular/angular.js"></script>
    <script src="lib/angular/angular-messages.js"></script>
    <script src="lib/angular/i18n/angular-locale_pt-br.js"></script>
    <script src="js/app.js"></script>
    <script src="js/controllers/listaTelefonicaCtrl.js"></script>
    <script src="js/services/contatosAPIService.js"></script>
    <script src="js/services/operadorasAPIService.js"></script>
    <script src="js/services/serialGeneratorService.js"></script>
    <script src="js/filters/nameFilter.js"></script>
    <script src="js/filters/ellipsisFilter.js"></script>
    <script src="js/config/serialGeneratorConfig.js"></script>
    <script src="value/configValue.js"></script>
    <script src="js/directives/uiAlertDirective.js"></script>
    <script src="js/directives/uiAccordionDirective.js"></script>

</head>

<body ng-controller="listaTelefonicaCtrl">
    <div class="jumbotron">
        <h4>{{app}}</h4>
        <ui-alert ng-if="error" title="Ops, aconteceu um problema!">
            {{error}}
        </ui-alert>
        <ui-accordions>
            <ui-accordion title="Accordion 1">
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quasi at laboriosam cumque nisi voluptas
                placeat
                sed ratione beatae veniam, quibusdam ea esse suscipit molestias maxime harum optio repellat, laborum
                voluptatum molestiae? Dolorum illum enim ipsum inventore quis eveniet possimus. Laborum impedit
                recusandae,
                nulla ab fuga illo distinctio perspiciatis necessitatibus pariatur cumque dolores facere! Nihil ratione
                delectus culpa numquam ducimus tempore mollitia eaque voluptates? Excepturi error, quos eos nesciunt
                eligendi perferendis?
            </ui-accordion>
            <ui-accordion title="Accordion 2">
                Lorem ipsum dolor, sit amet consectetur adipisicing elit. Optio magni, maiores dolorem ducimus quos
                sunt!
                Quaerat modi provident assumenda sit perferendis veniam. Facere optio sint quod ipsum, est excepturi
                vitae?
                Minima suscipit, qui magnam amet aut itaque nostrum tempore mollitia necessitatibus atque unde possimus
                in,
                adipisci facilis veniam natus fugit numquam provident nam iusto, eaque aliquam officia quos. Eligendi
                illo
                assumenda laborum laudantium itaque odit incidunt nisi excepturi placeat enim?
            </ui-accordion>
            <ui-accordion title="Accordion 2">
                Lorem ipsum dolor, sit amet consectetur adipisicing elit. Optio magni, maiores dolorem ducimus quos
                sunt!
                Quaerat modi provident assumenda sit perferendis veniam. Facere optio sint quod ipsum, est excepturi
                vitae?
                Minima suscipit, qui magnam amet aut itaque nostrum tempore mollitia necessitatibus atque unde possimus
                in,
                adipisci facilis veniam natus fugit numquam provident nam iusto, eaque aliquam officia quos. Eligendi
                illo
                assumenda laborum laudantium itaque odit incidunt nisi excepturi placeat enim?
            </ui-accordion>
            <ui-accordion title="Accordion 2">
                Lorem ipsum dolor, sit amet consectetur adipisicing elit. Optio magni, maiores dolorem ducimus quos
                sunt!
                Quaerat modi provident assumenda sit perferendis veniam. Facere optio sint quod ipsum, est excepturi
                vitae?
                Minima suscipit, qui magnam amet aut itaque nostrum tempore mollitia necessitatibus atque unde possimus
                in,
                adipisci facilis veniam natus fugit numquam provident nam iusto, eaque aliquam officia quos. Eligendi
                illo
                assumenda laborum laudantium itaque odit incidunt nisi excepturi placeat enim?
            </ui-accordion>
        </ui-accordions>
        <hr>
        <input class="form-control" type="text" ng-model="criterioDeBusca" placeholder="O que você está buscando?">
        <table ng-show="contatos.length > 0" class="table">
            <tr>
                <th></th>
                <th>Serial</th>
                <th><a href="" ng-click="ordenarPor('nome')">Nome</a></th>
                <th><a href="" ng-click="ordenarPor('telefone')">Telefone</a></th>
                <th>Operadora</th>
                <th>Data</th>
                <th></th>
            </tr>
            <tr ng-class="{'selecionado negrito': contato.selecionado}"
                ng-repeat="contato in contatos | filter: {nome: criterioDeBusca} | orderBy: criterioDeOrdenacao: direcaoDaOrdenacao">
                <!-- <td ng-repeat="(key, value) in contato">
                    {{value}}
                </td> -->
                <td><input type="checkbox" ng-model="contato.selecionado" /></td>
                <td>{{contato.serial}}</td>
                <td>{{contato.nome | name | ellipsis:10}}</td>
                <td>{{contato.telefone}}</td>
                <td>{{contato.operadora.nome}}</td>
                <td>{{contato.data | date:'dd/MM/yyyy HH:mm'}}</td>
                <td>
                    <div style="width: 20px; height: 20px;" ng-style="{'background-color': contato.cor}"></div>
                </td>
            </tr>
        </table>

        <hr />

        <form name="contatoForm">
            <input class="form-control" type="text" ng-model="contato.nome" name="nome" placeholder="Nome"
                ng-required="true" ng-minlength="10">
            <input class="form-control" type="text" ng-model="contato.telefone" name="telefone" placeholder="Telefone"
                ng-required="true" ng-pattern="/^\d{4,5}-\d{4}$/">
            <select class="form-control" ng-model="contato.operadora"
                ng-options="operadora.nome + ' ( '+ (operadora.preco | currency) +' )' group by operadora.categoria for operadora in operadoras | orderBy: 'nome'">
                <option value="">Selecione uma operadora</option>
            </select>
        </form>

        <div ng-messages="contatoForm.nome.$error">
            <div ng-message="required" ng-show="contatoForm.nome.$invalid && contatoForm.nome.$dirty"
                class="alert alert-danger">
                Por favor, preencha o nome!</div>
            <div ng-message="minlength" ng-show="contatoForm.nome.$invalid && contatoForm.nome.$dirty"
                class="alert alert-danger">
                O campo nome deve ter no mínimo 10 caracteres.
            </div>
            <div ng-show="contatoForm.telefone.$error.required && contatoForm.telefone.$dirty"
                class="alert alert-danger">Por
                favor, preencha o telefone</div>
            <div ng-show="contatoForm.telefone.$error.pattern" class="alert alert-danger">
                O campo telefone deve ter o formato DDDDD-DDDD.
            </div>

            <button class="btn btn-primary btn-block" ng-click="adicionarContato(contato)"
                ng-disabled="contatoForm.$invalid">Adicionar Contato</button>
            <button class="btn btn-danger btn-block" ng-click="apagarContatos(contatos)"
                ng-if="isContatoSelecionado(contatos)">
                Excluir Contato</button>
        </div>
        <div style="margin-top: 24px;" ng-include="'view/footer.html'"></div>
</body>

</html>